name: GoodWatch
options:
  bundleIdPrefix: com.parikshit.goodwatch
  deploymentTarget:
    iOS: "17.0"

packages:
  firebase-ios-sdk:
    url: https://github.com/firebase/firebase-ios-sdk
    from: "11.0.0"
  GoogleSignIn-iOS:
    url: https://github.com/google/GoogleSignIn-iOS
    from: "7.0.0"

targets:
  GoodWatch:
    type: application
    platform: iOS
    sources:
      - GoodWatch
    dependencies:
      - package: firebase-ios-sdk
        product: FirebaseAnalytics
      - package: firebase-ios-sdk
        product: FirebaseMessaging
      - package: GoogleSignIn-iOS
        product: GoogleSignIn
    entitlements:
      path: GoodWatch/GoodWatch.entitlements
      properties:
        com.apple.developer.applesignin:
          - Default
        aps-environment: development
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: PJWorks.goodwatch.movies.v1
        MARKETING_VERSION: 1.3
        CURRENT_PROJECT_VERSION: 1
        DEVELOPMENT_TEAM: H827NY6Y9W
        CODE_SIGN_STYLE: Automatic
        CODE_SIGN_IDENTITY: Apple Development
        CODE_SIGN_ENTITLEMENTS: GoodWatch/GoodWatch.entitlements
        TARGETED_DEVICE_FAMILY: "1"
    info:
      path: GoodWatch/Info.plist
      properties:
        CFBundleShortVersionString: "$(MARKETING_VERSION)"
        CFBundleVersion: "$(CURRENT_PROJECT_VERSION)"
        UILaunchScreen: {}
        UISupportedInterfaceOrientations:
          - UIInterfaceOrientationPortrait
        UIRequiresFullScreen: true
        ITSAppUsesNonExemptEncryption: false
        UIBackgroundModes:
          - remote-notification
        UIApplicationSceneManifest:
          UIApplicationSupportsMultipleScenes: false
        CFBundleURLTypes:
          - CFBundleTypeRole: Editor
            CFBundleURLSchemes:
              - com.googleusercontent.apps.1064227633048-375dsiqq8vlt0o2l34lfr66q224fivg4
          - CFBundleTypeRole: Editor
            CFBundleURLSchemes:
              - goodwatch
        GIDClientID: 1064227633048-375dsiqq8vlt0o2l34lfr66q224fivg4.apps.googleusercontent.com
    scheme:
      testTargets:
        - GoodWatchTests
        - GoodWatchUITests
      gatherCoverageData: false
  GoodWatchTests:
    type: bundle.unit-test
    platform: iOS
    sources:
      - GoodWatchTests
    dependencies:
      - target: GoodWatch
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.parikshit.goodwatch.tests
        DEVELOPMENT_TEAM: H827NY6Y9W
        CODE_SIGN_STYLE: Automatic
        GENERATE_INFOPLIST_FILE: "YES"
        TEST_HOST: "$(BUILT_PRODUCTS_DIR)/GoodWatch.app/$(BUNDLE_EXECUTABLE_FOLDER_PATH)/GoodWatch"
        BUNDLE_LOADER: "$(TEST_HOST)"
  GoodWatchUITests:
    type: bundle.ui-testing
    platform: iOS
    sources:
      - GoodWatchUITests
    dependencies:
      - target: GoodWatch
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.parikshit.goodwatch.uitests
        DEVELOPMENT_TEAM: H827NY6Y9W
        CODE_SIGN_STYLE: Automatic
        GENERATE_INFOPLIST_FILE: "YES"
